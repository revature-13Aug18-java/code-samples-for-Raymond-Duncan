<script>
  $(document).ready(function () {
    var readURL = function (input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
          $('.avatar').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
      }
    }
    $(".file-upload").on('change', function () {
      readURL(this);
    });
  });
</script>
<hr>
<div class="container">
  <div class="row">
    <div class="col-sm-10">
      <h1>{{currentUser.username | uppercase}}</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-3">
      <div class="text-center">
        <img [src]="profileImageUrl" class="avatar img-circle img-thumbnail" alt="avatar">
        <h6>Upload a profile picture</h6>
        <input type="file" accept="image/*" class="text-center center-block file-upload" (change)="selectFile($event)">
        <input type="button" value="Upload Photo" class="btn btn-success" [disabled]="!selectedFiles" (click)="uploadImage()">
      </div>
      <br>
      <ul class="list-group">
        <li class="list-group-item text-muted">Activity <i class="fa fa-dashboard fa-1x"></i></li>
        <li class="list-group-item text-right"><span class="pull-left"><strong>Subscriptions: </strong></span>{{numOfEvents}}</li>
      </ul>
    </div>
    <div class="col-sm-9">
      <div class="tab-content">
        <div class="tab-pane active" id="home">
          <hr>
          <form class="form" action="##" method="post" id="registrationForm">
            <div class="form-group">
              <div class="col-xs-6">
                <label for="first_name"><h4>First name</h4></label>
                <div>Current first name is: {{currentUser.firstname}}</div>
                <input type="text" class="form-control" name="first_name" id="first_name" placeholder="first name" title="enter your first name if any." [(ngModel)]="firstname">
              </div>
            </div>
            <div class="form-group">
              <div class="col-xs-6">
                <label for="last_name"><h4>Last name</h4></label>
                <div>Current last name is: {{currentUser.lastname}}</div>
                <input type="text" class="form-control" name="last_name" id="last_name" placeholder="last name" title="enter your last name if any." [(ngModel)]="lastname">
              </div>
            </div>
            <div class="form-group">
              <div class="col-xs-6">
                <label for="phone"><h4>Phone</h4></label>
                <div>Current phone number is: {{currentUser.phone}}</div>
                <input type="number" class="form-control" name="phone" id="phone" placeholder="enter phone" title="enter your phone number if any." [(ngModel)]="phone">
              </div>
            </div>
            <div class="form-group">
              <div class="col-xs-6">
                <label for="email"><h4>Email</h4></label>
                <div>Current email is: {{currentUser.email}}</div>
                <input type="email" class="form-control" name="email" id="email" placeholder="you@email.com" title="enter your email." [(ngModel)]="email">
              </div>
            </div>
            <div class="form-group">
                <div class="col-xs-6">
                  <label for="bio"><h4>Bio</h4></label>
                  <div>Current bio is: {{currentUser.bio}}</div>
                  <input type="text" class="form-control" name="bio" id="bio" placeholder="bio" title="enter your bio." [(ngModel)]="bio">
                </div>
              </div>
            <div class="form-group">
              <div class="col-xs-6">
                <label for="password"><h4>Password</h4></label>
                <input type="password" class="form-control" name="password" id="password" placeholder="password" title="enter your password." [(ngModel)]="password">
              </div>
            </div>
            <div class="form-group">
              <div class="col-xs-6">
                <label for="password2"><h4>Verify</h4></label>
                <input type="password" class="form-control" name="password2" id="password2" placeholder="password2" title="enter your password2." [(ngModel)]="validatePassword">
              </div>
            </div>
            <div class="form-group">
              <div class="col-xs-12">
                <br>
                <button class="btn btn-lg btn-success" type="submit" (click)="updateUser()"><i class="glyphicon glyphicon-ok-sign"></i> Save</button>
              </div>
            </div>
          </form>
          <hr>
        </div>
      </div>
    </div>
  </div>
</div>